# PostGIS

PostGIS to rozszerzenie do bazy danych PostgreSQL, obsługujące wykonywanie operacji na danych geograficznych.

## ST_Contains

Za pomocą funkcji `ST_Contains` możemy sprawdzić, czy wybrany punkt znajduje się [wewnątrz wielokąta](https://postgis.net/docs/ST_Contains.html).
Poniższy fragment warunku WHERE zapytania SQL ogranicza zwracane wiersze tylko do tych, których współrzędne geograficzne należą do Polski.

```
and a.lat between 49 and 55
and a.lon between 14.12 and 24.15
and ST_Contains(ST_GeomFromText('MULTIPOLYGON(((14.17309772117759 53.9154688235995,14.22565892587515 53.93946150166259,18.264695667192 54.99300857104127,19.59114301199496 54.46182182048295,21.41101503587065 54.33180447277032,22.93285467389721 54.41690975947416,23.49755971934413 54.18816836081254,23.55490717501386 54.0209167058822,23.59565112866866 53.69771423404628,23.92459498634549 53.15405149883286,23.97802805440207 52.72598541639312,23.21068825329169 52.31776211376265,23.51138152516431 52.17816608685443,23.652653746115 52.08371338981906,23.6963120651848 51.99129875871938,23.59847299489531 51.58568801307865,24.17092134104856 50.86389202515972,24.09544023964094 50.43008199078416,23.26041439488423 50.04643501010592,22.71858110052633 49.54277952803961,22.96318664617489 48.95533594154831,21.42994317277706 49.34750173763143,20.09223333576028 49.17069272987465,19.74596195634218 49.19490441391807,19.46475284810313 49.58780139868234,19.19200329658368 49.40176103902028,18.95950710599906 49.38081535771545,18.93411344049354 49.50959013402151,18.83582460724989 49.5172507536543,18.80200372051893 49.65413649709683,18.6036735056224 49.71803765914458,18.53875281088771 49.89798330847078,18.29633495625641 49.91598815233264,18.07226439385212 50.01038725687209,17.85510070981573 49.96209767196873,17.55395559668728 50.163180824873,17.73662535639205 50.23261912554447,17.36162881153263 50.25553415129586,16.9132312435529 50.4253999879826,17.08349166906558 50.23641859945234,16.66563061213757 50.06065216911112,16.14476589005438 50.43703619228658,16.40046807970494 50.59341306053557,16.00947103777259 50.58753249206126,15.36586136493712 50.76722613766992,15.0593882434985 51.00050826556626,15.02673898110281 50.85136102604692,14.76079315374569 50.85278008498129,15.00288862903799 51.25994668057353,14.92491876101845 51.45405806507522,14.68461270817743 51.53538961951989,14.72661066590655 51.62374336275865,14.5737904392742 51.8311505599348,14.71208838741367 52.03166231449373,14.51249919093292 52.4074141987638,14.60894424119491 52.57497080790527,14.06778922357087 52.8385364948046,14.36832752116705 53.29084137140751,14.17309772117759 53.9154688235995)))',4326), ST_SetSrid(ST_MakePoint(a.lon, a.lat),4326))";
```
